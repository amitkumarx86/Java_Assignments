package Algorithms;

import java.util.Scanner;

public class MergeSort {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        int n = 5;//in.nextInt();
        int[] ar = {5,4,3,2,1};//new int[n];
        //for(int i=0 ;i<n;i++) ar[i] = in.nextInt();
        MergeSort(ar,0,ar.length-1);
        for(int a : ar)
            System.out.println(a+" ");
        
        in.close();
}
    public static void MergeSort(int[] ar, int p, int r){
	if(p < r){
	    int q = (p+r)/2;
	    System.out.println("q = "+q);
	    MergeSort(ar,p,q);
	    MergeSort(ar,q+1,r);
	    Merge(ar,p,q,r);
	}
    }
    public static void Merge(int[] ar,int p,int q, int r){
	System.out.println("p ="+p+" q="+q);
	int n1 = q - p + 1;
	int n2 = r - q ;
	System.out.println("n1 ="+n1+" n2 = "+n2);
	int[] L = new int[n1];
	int[] R = new int[n2];
	for(int i=0;i<n1-1;i++) L[i] = ar[p+i];
	for(int i=0;i<n2-1;i++) R[i] = ar[q+i+1];
	L[n1] = 9999999;
	R[n2] = 9999999;
	System.out.println("l");
	for(int a : L)
            System.out.print(a+" ");
	System.out.println();
	System.out.println("R");
	for(int a : R)
            System.out.print(a+" ");
	
	System.out.println();
	
	int i = 0 , j = 0;
	for(int k = p ; k < r ; k++){
	    if(L[i] <= R[j]){ar[k] = L[i];i++;}
	    else{ ar[k] = R[j]; j++;}
	}
	for(int a : ar)
            System.out.print(a+" ");
    }
}
